<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>高考倒计时</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>
    <svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
        <defs>
            <radialGradient id="Gradient1" cx="50%" cy="50%" fx="50%" fy="50%" r=".5">
                <animate attributeName="fx" dur="34s" values="0%;10%;0%" repeatCount="indefinite" />
                <stop offset="0%" stop-color="rgba(255, 0, 255, 1)" />
                <stop offset="100%" stop-color="rgba(255, 0, 255, 0)" />
            </radialGradient>
            <radialGradient id="Gradient2" cx="50%" cy="50%" fx="10%" fy="50%" r=".5">
                <animate attributeName="fx" dur="23.5s" values="0%;50%;0%" repeatCount="indefinite" />
                <stop offset="0%" stop-color="rgba(255, 255, 0, 1)" />
                <stop offset="100%" stop-color="rgba(255, 255, 0, 0)" />
            </radialGradient>
            <radialGradient id="Gradient3" cx="50%" cy="50%" fx="50%" fy="50%" r=".5">
                <animate attributeName="fx" dur="23.5s" values="0%;10%;0%" repeatCount="indefinite" />
                <stop offset="0%" stop-color="rgba(0, 255, 255, 1)" />
                <stop offset="100%" stop-color="rgba(0, 255, 255, 0)" />
            </radialGradient>
        </defs>
        <rect x="0" y="0" width="100%" height="100%" fill="url(#Gradient1)">
            <animate attributeName="x" dur="20s" values="0%;25%;0%" repeatCount="indefinite" />
            <animate attributeName="y" dur="21s" values="0%;25%;0%" repeatCount="indefinite" />
            <animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="17s" repeatCount="indefinite" />
        </rect>
        <rect x="0" y="0" width="100%" height="100%" fill="url(#Gradient2)">
            <animate attributeName="x" dur="23s" values="0%;-25%;0%" repeatCount="indefinite" />
            <animate attributeName="y" dur="24s" values="0%;-25%;0%" repeatCount="indefinite" />
            <animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="18s" repeatCount="indefinite" />
        </rect>
        <rect x="0" y="0" width="100%" height="100%" fill="url(#Gradient3)">
            <animate attributeName="x" dur="25s" values="0%;-25%;0%" repeatCount="indefinite" />
            <animate attributeName="y" dur="26s" values="0%;25%;0%" repeatCount="indefinite" />
            <animateTransform attributeName="transform" type="rotate" from="360 50 50" to="0 50 50" dur="19s" repeatCount="indefinite" />
        </rect>
    </svg>
    <div id="box">
        <h2 id="countdownTitle">距离 2025 年高考还有</h2>
        <div id="time">
            <strong><span id="day">**天</span></strong>
            <strong><span id="hour">**时</span></strong>
            <strong><span id="minute">**分</span></strong>
            <strong><span id="second">**秒</span></strong>
        </div>
        <h3 id="message">Nothing Here.</h3>
        <p></p>
        <h5 id="lastSync">Last Sync at 2025-09-18</h5>
        <p></p>
        <h5 id="poweredBy">Powered By Waki@Github.</h5>
        <p></p>
    </div>

    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "eca3660b876b42d191ffcec642e6e078"}'></script>
    <script src="Timer.js"></script>

    <script>
        // 高考日期通常为每年的6月7日
        const GAOKAO_MONTH = 5; // JavaScript月份从0开始，5代表6月
        const GAOKAO_DAY = 7;
        const GAOKAO_HOUR = 9; // 高考通常从上午9点开始

        // 获取DOM元素
        const daySpan = my$('day');
        const hourSpan = my$('hour');
        const minuteSpan = my$('minute');
        const secondSpan = my$('second');
        const messageH3 = my$('message');
        const countdownTitleH2 = my$('countdownTitle');
        const timeDiv = my$('time');

        function updateCountdown() {
            const now = new Date();
            let targetYear = now.getFullYear();
            const gaokaoDateThisYear = new Date(targetYear, GAOKAO_MONTH, GAOKAO_DAY, GAOKAO_HOUR, 0, 0, 0);

            // If the current time is past this year's Gaokao, set the target year to the next one.
            if (now.getTime() > gaokaoDateThisYear.getTime()) {
                targetYear++;
            }

            const gaokaoDate = new Date(targetYear, GAOKAO_MONTH, GAOKAO_DAY, GAOKAO_HOUR, 0, 0, 0);

            // Handle the special cases for during and after the Gaokao.
            const oneDayInMs = 24 * 60 * 60 * 1000;
            const gaokaoEndDay = new Date(gaokaoDateThisYear.getTime() + 2 * oneDayInMs); // Assuming Gaokao lasts two days.

            // Check the current date against the Gaokao dates.
            if (now.getDate() === GAOKAO_DAY && now.getMonth() === GAOKAO_MONTH) {
                // High school entrance examination on the same day
                timeDiv.style.display = 'none';
                setInnerText(countdownTitleH2, "今天是高考日，祝所有考生旗开得胜！");
                setInnerText(messageH3, "");
            } else if (now.getTime() > gaokaoDateThisYear.getTime() && now.getTime() < gaokaoEndDay.getTime()) {
                // Gaokao is in progress
                timeDiv.style.display = 'none';
                setInnerText(countdownTitleH2, "高考正在进行中，祝所有考生旗开得胜！");
                setInnerText(messageH3, "");
            } else if (now.getTime() >= gaokaoEndDay.getTime()) {
                // Gaokao has ended
                timeDiv.style.display = 'none';
                setInnerText(countdownTitleH2, "高考已结束，祝各位考生金榜题名！");
                setInnerText(messageH3, "");
            } else {
                // Normal countdown
                timeDiv.style.display = 'flex';
                setInnerText(countdownTitleH2, `距离 ${targetYear} 年高考还有`);
                const time = getInterval(now, gaokaoDate);
                setInnerText(daySpan, time.day + '天');
                setInnerText(hourSpan, time.hour + '时');
                setInnerText(minuteSpan, time.minute + '分');
                setInnerText(secondSpan, time.second + '秒');
                setInnerText(messageH3, "Nothing Here.");
            }
        }

        // Run the function once immediately, then update every second.
        updateCountdown();
        setInterval(updateCountdown, 1000);
    </script>
</body>
</html>