<!DOCTYPE html>

<html>
	<head>		
		<meta charset="utf-8">
		<title>倒计时</title>
	</head>
	<body>
		<div>距离高考还有:
			<span id="clock"></span>
		</div>
		 <script>
            // 高考日期通常为每年的6月7日
            const G_KAO_MONTH = 5; // JavaScript月份从0开始，5代表6月
            const G_KAO_DAY = 7;
            const G_KAO_HOUR = 9; // 高考通常从上午9点开始

            function updateCountdown() {
                const now = new Date();
                let targetYear = now.getFullYear();
                const gKaoDateThisYear = new Date(targetYear, G_KAO_MONTH, G_KAO_DAY, G_KAO_HOUR, 0, 0, 0);

                // 如果当前时间已过当年的高考，则将目标年份设置为下一年
                if (now > gKaoDateThisYear) {
                    targetYear++;
                }

                const gKaoDate = new Date(targetYear, G_KAO_MONTH, G_KAO_DAY, G_KAO_HOUR, 0, 0, 0);
                const timeLeft = gKaoDate.getTime() - now.getTime();

                const clockElement = document.getElementById("clock");

                // 高考当天及之后几天的情况处理
                const oneDayInMs = 24 * 60 * 60 * 1000;
                const gKaoEndDay = new Date(gKaoDate.getTime() + 2 * oneDayInMs); // 假设高考持续两天

                if (now.getDate() === G_KAO_DAY && now.getMonth() === G_KAO_MONTH) {
                    clockElement.innerHTML = "今天就是高考日，加油！";
                } else if (now > gKaoDate && now < gKaoEndDay) {
                    clockElement.innerHTML = "高考正在进行中，祝所有考生旗开得胜！";
                } else if (now >= gKaoEndDay && now < gKaoEndDay.getTime() + 2 * oneDayInMs) {
                    clockElement.innerHTML = "高考已结束，祝各位考生金榜题名！";
                } else if (timeLeft <= 0) {
                    // 确保在特殊情况下，倒计时不会显示负数
                    clockElement.innerHTML = "高考已结束。";
                } else {
                    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    const milliseconds = timeLeft % 1000;

                    clockElement.innerHTML = `${days}天 ${hours}小时 ${minutes}分钟 ${seconds}秒 ${milliseconds}毫秒`;
                }
            }

            // 使用 setInterval 每毫秒更新一次
            setInterval(updateCountdown, 1);

            // 首次加载页面时立即运行一次，避免初始空白
            updateCountdown();
        </script>
		<!-- Cloudflare Web Analytics -->

		<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "eca3660b876b42d191ffcec642e6e078"}'></script>

		<!-- End Cloudflare Web Analytics -->
	</body>
</html>
